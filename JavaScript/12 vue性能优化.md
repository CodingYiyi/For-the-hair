# vue æ€§èƒ½ä¼˜åŒ–tips

## watch å’Œ computed çš„åº”ç”¨åœºæ™¯

```
// watch å†™æ³•
watch:{
	// watchedDataå±æ€§éœ€è¦æå‰åœ¨ data ä¸­å£°æ˜ï¼Œå³æå‰ç»‘å®šåˆ°vueå®ä¾‹ä¸Šï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚
	// watch çš„å±æ€§æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šæ–°å€¼ï¼Œæ—§å€¼
	watchedData:function(newVal,oldVal){
		// do someting 
	}
}
```

```
// computed å†™æ³•
computed:{
	// è®¡ç®—å±æ€§ä¸éœ€è¦æå‰åœ¨ data ä¸­å£°æ˜
	// è®¡ç®—å±æ€§æ€»æ˜¯éœ€è¦ return ä¸€ä¸ªå€¼ï¼Œå¦åˆ™è¯·è€ƒè™‘æ˜¯å¦æ­£ç¡®åœ°ä½¿ç”¨äº†è®¡ç®—å±æ€§ï¼Œæ˜¯å¦ä¸€ä¸ªç®€å•çš„methodå°±å¯ä»¥äº†
	computedData(){
		return â€¦â€¦
	}
}
```

**watch**ï¼šæ›´å¤šçš„æ˜¯ã€Œè§‚å¯Ÿã€çš„ä½œç”¨ï¼Œç±»ä¼¼äºæŸäº›æ•°æ®çš„ç›‘å¬å›è°ƒ ï¼Œæ¯å½“ç›‘å¬çš„æ•°æ®å˜åŒ–æ—¶éƒ½ä¼šæ‰§è¡ŒæŒ‡å®šçš„æ“ä½œï¼›

**computed**ï¼šæ˜¯è®¡ç®—å±æ€§ï¼Œ**ä¾èµ–å…¶å®ƒå±æ€§å€¼**ï¼Œå¹¶ä¸” computed çš„å€¼æœ‰ç¼“å­˜ï¼Œåªæœ‰å®ƒä¾èµ–çš„å±æ€§å€¼å‘ç”Ÿæ”¹å˜æ—¶æ‰ä¼šé‡æ–°è®¡ç®— computedÂ  çš„å€¼ï¼Œå¦åˆ™ç›´æ¥ä»ç¼“å­˜ä¸­è¿”å›ä¸Šæ¬¡çš„å€¼ï¼›

watch å’Œ computed éƒ½æœ‰ç›‘å¬æŸä¸ªå€¼çš„å˜åŒ–ï¼Œç„¶ååšå‡ºç›¸åº”æ“ä½œçš„åŠŸèƒ½ï¼Œè€Œä¸”è®¡ç®—å±æ€§è¿˜æœ‰ç¼“å­˜çš„åŠŸèƒ½ï¼Œæ€§èƒ½æ›´ä½³ã€‚

é‚£æ˜¯å¦è®¡ç®—å±æ€§å¯ä»¥å®Œå…¨æ›¿ä»£watchå‘¢ï¼Ÿ

å®˜ç½‘æä¾›çš„ä¾‹å­å°±æ˜¯ä¸ªå¾ˆå¥½çš„demoï¼š[ä»€ä¹ˆæ—¶å€™ä½¿ç”¨watchï¼Ÿ](https://cn.vuejs.org/v2/guide/computed.html#ä¾¦å¬å™¨)ã€‚æ€»ç»“ä¸‹æ¥å°±æ˜¯watchå¯ä»¥æä¾›æ›´ç»†åŠ›åº¦çš„æ§åˆ¶ï¼Œåº”å¯¹æ›´å¤æ‚çš„åœºæ™¯ï¼ˆå¼‚æ­¥ã€å‡½æ•°èŠ‚æµç­‰ï¼‰ï¼Œè€Œè®¡ç®—å±æ€§ç”±äºæ¯æ¬¡éƒ½éœ€è¦åŒæ­¥è¿”å›ä¸€ä¸ªå€¼ï¼Œæ‰€ä»¥ä¸Šè¿°åœºæ™¯å°±æ— æ³•åº”å¯¹äº†ã€‚


## 2.ä½ çœŸçš„éœ€è¦æŠŠæ‰€æœ‰çš„æ•°æ®éƒ½å®šä¹‰åœ¨dataä¸­å—ï¼Ÿ
ç”±äºtemplateä¸­çš„åŠ¨æ€æ•°æ®éƒ½éœ€è¦ä»vueå®ä¾‹ä¸Šå–ï¼Œæ‰€ä»¥æˆ‘ä»¬å¹³æ—¶å¼€å‘çš„æ—¶å€™ä¸å‡æ€ç´¢å°±å°†æ‰€æœ‰é¡µé¢ç”¨çš„çš„æ•°æ®æ”¾ç½®åˆ°dataä¸­ï¼š

```
data(){
	return {
		data1,
		data2,
		data3,
		â€¦â€¦
		dataN
	}
}
```
ä½†æ˜¯ï¼Œè¿™æ ·åšçœŸçš„åˆé€‚å—ï¼Ÿæˆ–è€…è¯´æ‰€æœ‰é¡µé¢ä¸Šè¦å±•ç¤ºçš„æ•°æ®ï¼Œéƒ½è¦é€šè¿‡è¿™ç§æ–¹å¼å—ï¼Ÿ

vueåœ¨ä¾èµ–æ”¶é›†é˜¶æ®µä¼šéå†dataè¿”å›çš„å¯¹è±¡çš„å±æ€§ï¼Œå¢åŠ watcherï¼Œç‰¹åˆ«æ˜¯å¦‚æœå±æ€§å€¼ä¸ºå¤æ‚å¯¹è±¡ï¼Œåˆ™ä¼šé€’å½’éå†ï¼Œè¿™æ˜¯å¾ˆæ¶ˆè€—æ€§èƒ½çš„ä¸€ä»¶äº‹ï¼Œæˆ‘ä»¬åº”å°½å¯èƒ½åªæ”¶é›†çœŸæ­£éœ€è¦çš„åŠ¨æ€æ•°æ®ã€‚é‚£ä»€ä¹ˆæ ·çš„æ•°æ®ä¸éœ€è¦æ·»åŠ ä¾èµ–å‘¢ï¼Ÿä¸¾ä¸ªğŸŒ°ï¼š

ä¸€ä¸ªé¡µé¢éœ€è¦çœå¸‚åŒºçš„æ•°æ®ï¼Œå¦‚æœè¿™ä¸ªæ•°æ®æ˜¯é™æ€æ–‡ä»¶è¿”å›çš„ï¼Œå¦‚ä¸‹å›¾ï¼š

```
import { provinces } from '@/util/consts';

export default {
  data() {
    return {
      myData: provinces,
    };
  },
}
```

ä¸Šä¾‹ä¸­ï¼Œprovinces çš„å€¼æ˜¯ä¸ä¼šå‘ç”Ÿå˜åŒ–çš„ï¼Œæ‰€ä»¥vueä¾èµ–æ”¶é›†è¿‡ç¨‹åº”è¯¥å‰”é™¤å®ƒï¼ˆæ”¶é›†äº†ä¹Ÿæ²¡æœ‰ç”¨å•Šï¼‰ï¼Œå¦‚ä¸‹å›¾ï¼š

```
import { provinces } from '@/util/consts';

export default {
  data() {
  	this.myData = provinces
   	return {
      â€¦â€¦
    };
  },
}
```
ç®€å•åœ°ç»‘å®šåˆ°thisä¸Šå³å¯ã€‚
å¯èƒ½æœ‰äººä¼šé—®ï¼Œé‚£å¦‚æœçœå¸‚åŒºæ•°æ®æ—¶æ˜¯é€šè¿‡æ¥å£å¼‚æ­¥è¿”å›çš„å‘¢ï¼Ÿä¾æ—§å¯ä»¥ï¼å¦‚ä¸‹å›¾ï¼š

```
export default {
	data:()=>({myData: {}}),
	async created() {
		provinces = await axios.get("/api/users");
		this.myData = Object.freeze(provinces);Â  }
}
```
è¿™æ ·å†™ï¼Œvueå°±ä¸ä¼šé€šè¿‡ Object.defineProperty å¯¹æ•°æ® provinces è¿›è¡ŒåŠ«æŒã€‚

**æ³¨æ„ï¼šæ­¤æ—¶ç›´æ¥ä¿®æ”¹this.myDataä¸ä¼šè§¦å‘æ›´æ–°ï¼Œä½†æ˜¯é‡æ–°èµ‹å€¼è¿˜æ˜¯ä¼šè§¦å‘è§†å›¾æ›´æ–°çš„ï¼Œå› ä¸ºæˆ‘ä»¬åªæ˜¯å†»ç»“äº† provinces çš„å€¼ã€‚**

## 3. v-for keyçš„æ­£ç¡®ä½¿ç”¨







